"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[553],{9610:function(n,e,t){t.d(e,{Z:function(){return F}});var r=t(5861),a=t(4687),i=t.n(a),o=t(1243),c=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];var s=function(n){return n.map((function(n){return c.find((function(e){return e.id===n}))})).map((function(n){return n.name})).join(", ")},u=t.p+"static/media/poster.baa212b4ab56e6c8735f.jpg",d=u,l=function(n){return n?"".concat("https://image.tmdb.org/t/p/w500").concat(n):d},p=function(n){return n.split("-")[0]},h=function(n){return Math.floor(n)},f=function(n){return n.map((function(n){return n.name})).join(", ")},m=function(n){return n.toFixed(1)},g=t.p+"static/media/avatar.9c54ede653c8ca2c7384.jpg",x=g,v=function(n){return n?"".concat("https://image.tmdb.org/t/p/w500").concat(n):x},w={dataFilter:function(n){var e=n.results.map((function(n){return console.log(n.genre_ids),{adult:n.adult,genre_ids:s(n.genre_ids),id:n.id,poster_path:l(n.poster_path),release_date:p(n.release_date),title:n.title.toUpperCase(),vote_average:m(n.vote_average)}}));return{page:n.page,results:e,total_pages:n.total_pages}},dataDetailsFilter:function(n){return{budget:n.budget,genres:f(n.genres),original_title:n.original_title,overview:n.overview,popularity:h(n.popularity),poster_path:l(n.poster_path),release_date:p(n.release_date),title:n.title.toUpperCase(),vote_average:m(n.vote_average),vote_count:n.vote_count}},dataCastFilter:function(n){return n.cast.map((function(n){return{id:n.id,profile_path:v(n.profile_path),name:n.name,character:n.character}}))}},b=w;o.Z.defaults.baseURL="https://api.themoviedb.org/3/";var Z="4efc7dd075300afeff5dc61a2436592d",j=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.signal,n.next=3,o.Z.get("trending/movie/day?api_key=".concat(Z),{signal:t});case 3:if(r=n.sent,0!==(a=r.data).results.length){n.next=7;break}throw new Error;case 7:return c=b.dataFilter(a),n.abrupt("return",c);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),_=function(){var n=(0,r.Z)(i().mark((function n(e,t){var r,a,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("search/movie?api_key=".concat(Z,"&query=").concat(e,"&page=").concat(t,"&include_adult=false"));case 2:if(r=n.sent,0!==(a=r.data).results.length){n.next=6;break}throw new Error;case 6:return c=b.dataFilter(a),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),k=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a,c,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.movieId,r=e.signal,n.next=3,o.Z.get("movie/".concat(t,"?api_key=").concat(Z,"&language=en-US"),{signal:r});case 3:if(a=n.sent,0!==(c=a.data).length){n.next=7;break}throw new Error;case 7:return s=b.dataDetailsFilter(c),n.abrupt("return",s);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),y=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a,c,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.movieId,r=e.signal,n.next=3,o.Z.get("movie/".concat(t,"/credits?api_key=").concat(Z,"&language=en-US"),{signal:r});case 3:if(a=n.sent,c=a.data,console.log(c),0!==c.length){n.next=8;break}throw new Error;case 8:return s=b.dataCastFilter(c),console.log(s),n.abrupt("return",s);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),C=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.movieId,r=e.signal,n.next=3,o.Z.get("movie/".concat(t,"/reviews?api_key=").concat(Z,"&language=en-US&page=1"),{signal:r});case 3:if(0!==(a=n.sent).length){n.next=6;break}throw new Error;case 6:return n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),F={getTrending:j,getSearchMovie:_,getMovieDetails:k,getMovieCredits:y,getMovieReviews:C}},7489:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var r,a,i,o,c,s,u,d,l,p,h,f,m=t(5861),g=t(9439),x=t(4687),v=t.n(x),w=t(2791),b=t(7689),Z=t(9014),j=t(1243),_=t(3028),k=t(9610),y=t(168),C=t(6088),F=C.Z.div(r||(r=(0,y.Z)(["\n  @media screen and (min-width: 768px) {\n    display: flex;\n  }\n"]))),S=C.Z.img(a||(a=(0,y.Z)(["\n  display: block;\n  height: 100%;\n  object-fit: cover;\n  margin-bottom: 8px;\n  border-radius: 5px;\n  height: 402px;\n  width: 280px;\n\n  @media screen and (min-width: 768px) {\n    height: 455px;\n    width: 336px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    height: 574px;\n    width: 395px;\n    margin-bottom: 12px;\n  }\n"]))),E=C.Z.div(i||(i=(0,y.Z)(["\n  margin-left: 10px;\n"]))),M=C.Z.p(o||(o=(0,y.Z)(["\n  @media screen and (max-width: 1279px) {\n    font-weight: 700;\n    font-size: 18px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    font-weight: 700;\n    font-size: 24px;\n  }\n"]))),U=C.Z.p(c||(c=(0,y.Z)(["\n  @media screen and (max-width: 1279px) {\n    font-weight: 400;\n    font-size: 12px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    font-weight: 400;\n    font-size: 16px;\n  }\n"]))),z=C.Z.p(s||(s=(0,y.Z)(["\n  @media screen and (max-width: 1279px) {\n    font-weight: 700;\n    font-size: 18px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    font-weight: 700;\n    font-size: 24px;\n  }\n"]))),I=C.Z.p(u||(u=(0,y.Z)(["\n  @media screen and (max-width: 1279px) {\n    font-weight: 400;\n    font-size: 14px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    font-weight: 400;\n    font-size: 16px;\n  }\n"]))),A=t(184),R=function(n){var e=n.movie,t=e.budget,r=e.poster_path,a=e.overview,i=e.release_date,o=e.title,c=e.popularity,s=e.genres,u=e.original_title,d=e.vote_average,l=e.vote_count;return console.log(u),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(F,{children:[(0,A.jsx)(S,{src:"".concat(r),alt:o}),(0,A.jsxs)(E,{children:[(0,A.jsx)("h2",{children:o}),(0,A.jsxs)("h4",{children:["Vote / Votes: ",d," / ",l]}),(0,A.jsxs)("p",{children:["Release year: ",i]}),(0,A.jsxs)("p",{children:["Original title: ",u]}),(0,A.jsxs)("p",{children:["User Score: ",c]}),(0,A.jsxs)("p",{children:["Budget: $",t]}),(0,A.jsx)(M,{children:"ABOUT"}),(0,A.jsx)(U,{children:a}),(0,A.jsx)(z,{children:"Genres"}),(0,A.jsx)(I,{children:s})]})]}),(0,A.jsx)("hr",{})]})},V=t(6249),D=t(1087),O=C.Z.h3(d||(d=(0,y.Z)(["\n  text-align: center;\n  text-transform: uppercase;\n"]))),T=C.Z.ul(l||(l=(0,y.Z)(["\n  display: flex;\n  justify-content: center;\n  list-style: none;\n"]))),B=C.Z.li(p||(p=(0,y.Z)(["\n  margin-right: 20px;\n\n  :last-child {\n    margin-right: 0;\n  }\n"]))),H=(0,C.Z)(D.rU)(h||(h=(0,y.Z)(["\n  text-decoration: none;\n  border-radius: 5px;\n  border: 2px solid ",";\n  padding: 5px 10px;\n  color: ",";\n  transition: background-color 250ms linear;\n\n  &:active {\n    background-color: ",";\n    color: white;\n  }\n\n  &:hover {\n    background-color: ",";\n    color: white;\n  }\n"])),(function(n){return n.theme.colors.orange}),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.orange}),(function(n){return n.theme.colors.orange})),G=function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(O,{children:"Additional information"}),(0,A.jsxs)(T,{children:[(0,A.jsx)(B,{children:(0,A.jsx)(H,{to:"".concat(V.Z.MOVIES_CAST),children:"Cast"})}),(0,A.jsx)(B,{children:(0,A.jsx)(H,{to:"".concat(V.Z.MOVIES_REVIEWS),children:"Reviews"})})]})]})},W=C.Z.button(f||(f=(0,y.Z)(["\n  font-size: 14px;\n  border-radius: 5px;\n  border: 2px solid ",";\n  padding: 5px 10px;\n  background-color: ",";\n  color: ",";\n  margin-left: 10px;\n  transition: background-color 250ms linear;\n  margin-left: 0;\n\n  &:hover {\n    background-color: ",";\n    color: white;\n  }\n"])),(function(n){return n.theme.colors.orange}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.orange})),q=function(n){var e=n.HandleGoBack;return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(W,{type:"button",onClick:e,children:"Go Back"})})},L=function(){var n,e,t=(0,w.useState)(),r=(0,g.Z)(t,2),a=r[0],i=r[1],o=(0,w.useState)(!1),c=(0,g.Z)(o,2),s=c[0],u=c[1],d=(0,w.useState)(null),l=(0,g.Z)(d,2),p=l[0],h=l[1],f=(0,b.UO)().movieId,x=(0,b.TH)(),y=(0,b.s0)(),C=(0,w.useRef)(null!==(n=null===(e=x.state)||void 0===e?void 0:e.from)&&void 0!==n?n:V.Z.MOVIES);(0,w.useEffect)((function(){if(f){var n=new AbortController,e=function(){var e=(0,m.Z)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),h(null),e.prev=2,e.next=5,k.Z.getMovieDetails({movieId:f,signal:n.signal});case 5:t=e.sent,console.log(t),i(t),e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(2),!j.Z.isCancel(e.t0)){e.next=14;break}return e.abrupt("return");case 14:h(e.t0.message);case 15:return e.prev=15,u(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,10,15,18]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){n.abort()}}}),[f]),(0,w.useEffect)((function(){p&&Z.Am.error(p)}),[p]);return(0,A.jsxs)("div",{children:[(0,A.jsx)(q,{HandleGoBack:function(){return y(C.current)}}),(0,A.jsx)("hr",{}),a&&(0,A.jsx)(R,{movie:a}),a&&(0,A.jsx)(G,{}),(0,A.jsx)("hr",{}),(0,A.jsx)(b.j3,{}),s&&(0,A.jsx)(_.Z,{}),(0,A.jsx)(Z.x7,{position:"top-right"})]})}}}]);
//# sourceMappingURL=553.dad29e9a.chunk.js.map